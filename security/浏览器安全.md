---
title: "CewlKid: 1"
date: 2020-10-13T18:25:36+08:00
draft: false
tags: ["浏览器安全"]
categories: ["security"]
---

## 同源策略
- ***浏览器的同源策略，限制了来自不同源的"document"或脚本，对当前"document"读取或设置某些属性。***
- 为了不让浏览器的页面行为发生混乱，浏览器提出了"origin"源这一概念，来自不同origin的对象无法相互干扰。
- 对于当前页面来说，页面内存放Js文件的域不重要，重要的是加载Js页面所在的域是什么。例如a.com中有如下代码：<script src="http://b.com/b.js"></script>加载了b.com中的js文件，但是b.js是运行在a.com页面中的，因此对于当前打开的页面a.com来说，b.js的origin应该就是a.com，而非b.com。
- 在浏览器中，<script/>、<img>、<iframe/>、<link/>等标签可以实现跨域加载资源，而不受同源策略的限制。这些带src属性的标签每次加载时，实际上是浏览器发起了一次GET请求，但是浏览器限制了js的权限，使其不能读、写返回的内容，即<script src="http://a.com/a.js"></script>，中返回的a.js不能被其他js代码访问（也就是开发中不能通过js处理动态获取的内容）。
- 基于"Js无法控制HTTP头"这一基础，可以通过目标域返回的HTTP头(Access-Control-Allow-Origin)来授权是否允许跨域访问目标。

## 浏览器沙箱